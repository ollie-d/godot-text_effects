[gd_scene load_steps=12 format=3 uid="uid://dwl2m2rmir5xe"]

[ext_resource type="PackedScene" path="res://addons/teeb.text_transitions/demo/RichTextLabel.tscn" id="1"]
[ext_resource type="Script" path="res://addons/teeb.text_transitions/Debugger.gd" id="2"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/Prickle.tres" id="3"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/Redacted.tres" id="4"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/WFC.tres" id="5"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/Console.tres" id="6"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/Word.tres" id="7"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/Bounce.tres" id="8"]
[ext_resource type="RichTextEffect" path="res://addons/teeb.text_transitions/resources/Embers.tres" id="9"]

[sub_resource type="GDScript" id="1"]
script/source = "tool
extends \"res://addons/teeb.text_transitions/transitions/TransitionBase.gd\"


# Syntax: [glide][/glide]
var bbcode = \"glide\"


const A1 = ord(\"<\")
const A2 = ord(\">\")


var _move_left = false


func _process_custom_fx(char_fx):
	var t = get_t(char_fx)
	
	if char_fx.character == A1:
		_move_left = true
		char_fx.color.a = 0.0
		return true
	elif char_fx.character == A2:
		_move_left = false
		char_fx.color.a = 0.0
		return true
	else:
		char_fx.color.a = t
	
	var s = sin(char_fx.elapsed_time) * .5 + .5
	if _move_left:
		char_fx.offset.y -= 33
		char_fx.color.a = s
	else:
		char_fx.color.a = 1.0 - s
		
#	if _move_left:
#		char_fx.offset.y = 16.0 - t * 16.0
#	else:
#		char_fx.offset.y = t * 16.0 - 16.0
	return true
"

[sub_resource type="RichTextEffect" id="2"]
resource_name = "Glide"
script = SubResource("1")

[node name="Node2D" type="Control"]
layout_mode = 3
anchors_preset = 0
script = ExtResource("2")
time = 1.0

[node name="bounce" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 36.5651
offset_top = 2.21606
offset_right = 1045.57
offset_bottom = 129.216
bbcode_enabled = true
text = "bounce: A long time ago, in a far away place..."
custom_effects = [ExtResource("8"), ExtResource("6"), ExtResource("9"), SubResource("2"), ExtResource("3"), ExtResource("4"), ExtResource("5"), ExtResource("7"), null, null]
length = 16.0
reverse = false
animation_time = 0.5

[node name="console" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 22.345
offset_top = 36.1859
offset_right = 1031.34
offset_bottom = 163.186
bbcode_enabled = true
text = "console: A long time ago, in a far away place..."
custom_effects = [ExtResource("8"), ExtResource("6"), ExtResource("9"), SubResource("2"), ExtResource("3"), ExtResource("4"), ExtResource("5"), ExtResource("7"), null, null]
id = "console"
length = 1.0
reverse = false
animation_time = 0.5

[node name="embers" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 39.4702
offset_top = 71.3033
offset_right = 1048.47
offset_bottom = 198.303
bbcode_enabled = true
text = "embers: A long time ago, in a far away place..."
custom_effects = [ExtResource("8"), ExtResource("6"), ExtResource("9"), SubResource("2"), ExtResource("3"), ExtResource("4"), ExtResource("5"), ExtResource("7"), null, null]
id = "embers"
reverse = false
animation_time = 0.5

[node name="prickle" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 25.5704
offset_top = 111.007
offset_right = 1034.57
offset_bottom = 238.007
bbcode_enabled = true
text = "prickle: A long time ago, in a far away place..."
custom_effects = [ExtResource("8"), ExtResource("6"), ExtResource("9"), SubResource("2"), ExtResource("3"), ExtResource("4"), ExtResource("5"), ExtResource("7"), null, null]
id = "prickle"
length = 16.0
reverse = false
animation_time = 0.5

[node name="redacted" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 10.1619
offset_top = 148.323
offset_right = 1019.16
offset_bottom = 275.323
bbcode_enabled = true
text = "redacted: A long time ago, in a far away place..."
id = "redacted"
reverse = false
animation_time = 0.5

[node name="wfc" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 91.1592
offset_top = 187.824
offset_right = 1100.15
offset_bottom = 314.824
bbcode_enabled = true
text = "wfc: A long time ago, in a far away place..."
id = "wfc"
length = 32.0
reverse = false
animation_time = 0.5

[node name="word" parent="." instance=ExtResource("1")]
layout_mode = 0
offset_left = 74.5387
offset_top = 227.713
offset_right = 1083.53
offset_bottom = 354.713
bbcode_enabled = true
text = "word: A long time ago, in a far away place..."
id = "word"
length = 4.0
reverse = false
animation_time = 0.5
